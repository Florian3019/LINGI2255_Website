<template name="brackets">
	  	<!-- Only display button if all options are selected -->
		{{#with getYear}}
			{{#with getType}}
				{{#with getCategory}}
				<div id="bracketOptions" style="display:none">
				  <button type="button" id="start" class="btn btn-default btn-lg">
				    <span class="glyphicon glyphicon-star"></span> Start
				  </button>

				  <label>Gagnants par poule:</label>
				  <input type="number" min="1" class="form-control" id="winnersPerPool" style="width:15%; display:inline" value="2">
	 			</div>
	 			{{/with}}
	 		{{/with}}
		{{/with}}
	<!-- </form> -->

	<div id="infoBox" class="alert alert-info" role="alert" hidden>
	  <h4>
		  <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
		  <span class="sr-only">Info:</span>
		  <span id="infoMsg"></span>
	  </h4>
	</div>

	<div id="wrapper">
	<!-- empty gracket element -->
		
		{{#with getYear}}
			{{#with getType}}
				{{#with getCategory}}
					{{>gracketTemplate ALLWINNERS=getAllWinners}}
				{{/with}}
			{{/with}}
		{{/with}}
	</div>

	<!-- basic styles -->
	<style type="text/css">
		.g_gracket { width: {{getGracketWidth}}px; padding: 55px 15px 5px; line-height: 100%; position: relative; overflow: hidden;}
		.g_round { float: left; margin-right: 70px; }
		.g_game { position: relative; margin-bottom: 15px; }
		.g_gracket h3 { margin: 0; padding: 10px 8px 8px; font-size: 18px; font-weight: normal; color: #fff; min-width:200px;}
		.g_team { background: #3597AE; }
		.g_team:last-child {  background: #FCB821; }
		.g_round:last-child { margin-right: 20px; }
		.g_winner { background: #444; }
		.g_winner .g_team { background: none; }
		.g_current { cursor: pointer; background: #A0B43C!important; }
		.g_round_label { top: -5px; font-weight: normal; color: #CCC; text-align: center; font-size: 18px; }
	</style>

	<div id="bracketModal" class="modal fade bracketModal" role="dialog" style="cursor:auto">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <div class="modal-title page-header">
            <h1><small>Modifier le score</small></h1>
          </div>
        </div>
        

        <div class="modal-body">
		    <label for="text">Score</label>
			<div class="input-group">
				<input 
				type="number" 
				min="0" 
				step="1" 
				class="form-control" 
				id="scoreInput" 
				value="{{getScore}}" 
				placeholder="0" 
				autofocus
				onkeydown="if (event.keyCode == 13) document.getElementById('saveScore').click()"><br>
		  	</div>
	  		  <button type="button" id="saveScore" class="btn btn-default btn-lg" data-dismiss="modal">
			    <span class="glyphicon glyphicon-star" aria-hidden="true"></span> Sauver
			  </button>

		</div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Fermer</button>
        </div>
      </div>

    </div>
  </div>

<button type="button" id="getPDF" class="btn btn-default btn-lg" data-pool="{{this._id}}" style="display:none">
<span class="glyphicon glyphicon-download" aria-hidden="true"></span> PDF
</button>

<!-- Frame for the pdf viewer -->
<iframe class="preview-pane" type="application/pdf" height="650" width="100%" frameborder="0" hidden></iframe>
<br>

</template>

<template name="gracketTemplate">
<!-- {{#with getUpdate}} -->
<div class="my_gracket" id="gracketContainer" style="background-color:white"></div>
<!-- {{/with}} -->
{{#with makeBrackets}}
	{{displayBrackets this}}
{{/with}}
</template>